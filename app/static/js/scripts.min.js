(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function Bee(name, kind, healthPoints) {
  this.name = name;
  this.kind = kind;
  this.healthPoints = healthPoints;
}

Bee.prototype.decreaseHP = function (pointsToDecrease) {
  return this.healthPoints -= pointsToDecrease;
};

function fabricOfBees(numberOfBees, name, kind, healthPoints) {
  var list = [];

  for (var i = 0; i < numberOfBees; i++) {
    var beeNameHelper = i + 1;
    list[i] = new Bee(name + ' ' + beeNameHelper, kind, healthPoints);
  }

  return list;
}

function printBees(el) {
  document.getElementsByClassName('bees-content')[0].innerHTML = '';

  for (var i = 0; i < el.length; i++) {
    var helperNumber = i;
    var lifeBar;
    var bee = document.createElement('div');
    bee.className += 'bee';
    bee.setAttribute('id', helperNumber);
    bee.innerHTML = '<div class="bee__wrap">' +
                    '  <div class="bee__head"></div>' +
                    '  <div class="bee__body"></div>' +
                    '  <div class="bee__wings"></div>' +
                    '  <div class="bee__stinger"></div>' +
                    '</div>' +
                    '<div class="lifebar">' +
                    '   <div class="lifebar__current"></div>' +
                    '</div>';
    document.getElementsByClassName('bees-content')[0].appendChild(bee);

    if (el[i].kind === 'worker') {
       bee.className += ' bee--worker';
       lifeBar = (el[i].healthPoints / 75) * 100;
       bee.getElementsByClassName('lifebar__current')[0].style.width = lifeBar + '%';
     } else if (el[i].kind === 'drone') {
       bee.className += ' bee--drone';
       lifeBar = (el[i].healthPoints / 50) * 100;
       bee.getElementsByClassName('lifebar__current')[0].style.width = lifeBar + '%';
     } else {
       bee.className += ' bee--queen';
       lifeBar = el[i].healthPoints + '%';
       bee.getElementsByClassName('lifebar__current')[0].style.width = lifeBar;
     }
  }
}

function getArrayOfBees() {
  var list = [];

  for (var i = 0; i < arguments.length; i++) {
    if (!(arguments[i] instanceof Array)) {
      list.push(arguments[i]);
    } else {
      for (var j = 0; j < arguments[i].length; j++) {
        list.push(arguments[i][j]);
      }
    }
  }

  return list;
}

module.exports = {
  Bee: Bee,
  fabricOfBees: fabricOfBees,
  printBees: printBees,
  getArrayOfBees: getArrayOfBees
};
},{}],2:[function(require,module,exports){
var Bee = require('./bee').Bee;
var fabricOfBees = require('./bee').fabricOfBees;
var printBees = require('./bee').printBees;
var getArrayOfBees = require('./bee').getArrayOfBees;

function randomNumber(number) {
  var random = Math.floor((Math.random() * number));
  return random;
}

function attackRandomBee() {
  var beePosition = randomNumber(allTheBees.length);

  function attackProcess(damage) {
    var bee = document.getElementById(beePosition);
    bee.className += ' bee--attacked';

    setTimeout(function() {
      if (allTheBees[beePosition].healthPoints >= 0) {
        allTheBees[beePosition].decreaseHP(damage);

        if (allTheBees[beePosition].healthPoints <= 0) {
          if (allTheBees[beePosition].kind === 'queen') {
            alert('The Queen Bee died! Play again?');
          }
          allTheBees.splice(beePosition, 1);
        }
        printBees(allTheBees);
        attackingFlag = false;
      }
    }, 200);
  }

  switch (allTheBees[beePosition].kind) {
    case 'drone':
      attackProcess(12);
      break;

    case 'worker':
      attackProcess(10);
      break;

    default:
      attackProcess(8);
  }
}

var queenBee = new Bee('Queen Bee', 'queen', 100);
var listOfWorkers = fabricOfBees(8, 'Worker Bee', 'worker', 75);
var listOfDrones = fabricOfBees(12, 'Drone Bee', 'drone', 50);
var allTheBees = getArrayOfBees(queenBee, listOfWorkers, listOfDrones);
var btnAttack = document.getElementById('attack');
var attackingFlag = false;

printBees(allTheBees);

btnAttack.onclick = function() {
  if (!attackingFlag) {
    attackRandomBee();
    attackingFlag = true;
  }
};

document.body.onkeyup = function(key) {
  if(key.keyCode === 32 || key.keyCode === 13) {
    if (!attackingFlag) {
      attackRandomBee();
      attackingFlag = true;
    }
  }
};

},{"./bee":1}]},{},[2]);
