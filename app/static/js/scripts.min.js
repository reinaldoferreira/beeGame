function Bee(e,t,a){this.name=e,this.kind=t,this.healthPoints=a}function fabricOfBees(e,t,a,n){for(var s=[],r=0;r<e;r++){var l=r+1;s[r]=new Bee(t+" "+l,a,n)}return s}function randomNumber(e){var t=Math.floor(Math.random()*e);return t}function printBees(e){document.getElementsByClassName("bees-content")[0].innerHTML="";for(var t=0;t<e.length;t++){var a,n=t,s=document.createElement("div");s.className+="bee",s.setAttribute("id",n),s.innerHTML='<div class="bee__wrap">  <div class="bee__head"></div>  <div class="bee__body"></div>  <div class="bee__wings"></div>  <div class="bee__stinger"></div></div><div class="lifebar">   <div class="lifebar__current"></div></div>',document.getElementsByClassName("bees-content")[0].appendChild(s),"worker"===e[t].kind?(s.className+=" bee--worker",a=e[t].healthPoints/75*100,s.getElementsByClassName("lifebar__current")[0].style.width=a+"%"):"drone"===e[t].kind?(s.className+=" bee--drone",a=e[t].healthPoints/50*100,s.getElementsByClassName("lifebar__current")[0].style.width=a+"%"):(s.className+=" bee--queen",a=e[t].healthPoints+"%",s.getElementsByClassName("lifebar__current")[0].style.width=a)}}function getArrayOfBees(){for(var e=[],t=0;t<arguments.length;t++)if(arguments[t]instanceof Array)for(var a=0;a<arguments[t].length;a++)e.push(arguments[t][a]);else e.push(arguments[t]);return e}function attackRandomBee(){function e(e){var a=document.getElementById(t);a.className+=" bee--attacked",setTimeout(function(){allTheBees[t].healthPoints>=0&&(allTheBees[t].decreaseHP(e),allTheBees[t].healthPoints<=0&&("queen"===allTheBees[t].kind&&alert("The Queen Bee died! Play again?"),allTheBees.splice(t,1)),printBees(allTheBees),attackingFlag=!1)},200)}var t=randomNumber(allTheBees.length);switch(allTheBees[t].kind){case"drone":e(12);break;case"worker":e(10);break;default:e(8)}}Bee.prototype.decreaseHP=function(e){return this.healthPoints-=e};var queenBee=new Bee("Queen Bee","queen",100),listOfWorkers=fabricOfBees(8,"Worker Bee","worker",75),listOfDrones=fabricOfBees(12,"Drone Bee","drone",50),allTheBees=getArrayOfBees(queenBee,listOfWorkers,listOfDrones),btnAttack=document.getElementById("attack"),attackingFlag=!1;printBees(allTheBees),btnAttack.onclick=function(){attackingFlag||(attackRandomBee(),attackingFlag=!0)},document.body.onkeyup=function(e){32!==e.keyCode&&13!==e.keyCode||attackingFlag||(attackRandomBee(),attackingFlag=!0)};